{"ast":null,"code":"let deferredPrompt;\nvar div = document.querySelector('.add-to');\nvar button = document.querySelector('.add-to-btn');\ndiv.style.display = 'none';\nwindow.addEventListener('beforeinstallprompt', e => {\n  // Prevent Chrome 67 and earlier from automatically showing the prompt\n  e.preventDefault(); // Stash the event so it can be triggered later.\n\n  deferredPrompt = e;\n  div.style.display = 'block';\n  button.addEventListener('click', e => {\n    // hide our user interface that shows our A2HS button\n    div.style.display = 'none'; // Show the prompt\n\n    deferredPrompt.prompt(); // Wait for the user to respond to the prompt\n\n    deferredPrompt.userChoice.then(choiceResult => {\n      if (choiceResult.outcome === 'accepted') {\n        console.log('User accepted the A2HS prompt');\n      } else {\n        console.log('User dismissed the A2HS prompt');\n      }\n\n      deferredPrompt = null;\n    });\n  });\n});","map":{"version":3,"sources":["/home/soural/arr/src/serv.js"],"names":["deferredPrompt","div","document","querySelector","button","style","display","window","addEventListener","e","preventDefault","prompt","userChoice","then","choiceResult","outcome","console","log"],"mappings":"AAAA,IAAIA,cAAJ;AACA,IAAIC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAV;AACA,IAAIC,MAAM,GAAGF,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAb;AACAF,GAAG,CAACI,KAAJ,CAAUC,OAAV,GAAoB,MAApB;AAEAC,MAAM,CAACC,gBAAP,CAAwB,qBAAxB,EAAgDC,CAAD,IAAO;AACpD;AACAA,EAAAA,CAAC,CAACC,cAAF,GAFoD,CAGpD;;AACAV,EAAAA,cAAc,GAAGS,CAAjB;AACAR,EAAAA,GAAG,CAACI,KAAJ,CAAUC,OAAV,GAAoB,OAApB;AAEAF,EAAAA,MAAM,CAACI,gBAAP,CAAwB,OAAxB,EAAkCC,CAAD,IAAO;AACxC;AACAR,IAAAA,GAAG,CAACI,KAAJ,CAAUC,OAAV,GAAoB,MAApB,CAFwC,CAGxC;;AACAN,IAAAA,cAAc,CAACW,MAAf,GAJwC,CAKxC;;AACAX,IAAAA,cAAc,CAACY,UAAf,CACGC,IADH,CACSC,YAAD,IAAkB;AACtB,UAAIA,YAAY,CAACC,OAAb,KAAyB,UAA7B,EAAyC;AACvCC,QAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACD,OAFD,MAEO;AACLD,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACD;;AACDjB,MAAAA,cAAc,GAAG,IAAjB;AACD,KARH;AASD,GAfC;AAgBD,CAvBD","sourcesContent":["let deferredPrompt;\nvar div = document.querySelector('.add-to');\nvar button = document.querySelector('.add-to-btn');\ndiv.style.display = 'none';\n\nwindow.addEventListener('beforeinstallprompt', (e) => {\n  // Prevent Chrome 67 and earlier from automatically showing the prompt\n  e.preventDefault();\n  // Stash the event so it can be triggered later.\n  deferredPrompt = e;\n  div.style.display = 'block';\n\n  button.addEventListener('click', (e) => {\n  // hide our user interface that shows our A2HS button\n  div.style.display = 'none';\n  // Show the prompt\n  deferredPrompt.prompt();\n  // Wait for the user to respond to the prompt\n  deferredPrompt.userChoice\n    .then((choiceResult) => {\n      if (choiceResult.outcome === 'accepted') {\n        console.log('User accepted the A2HS prompt');\n      } else {\n        console.log('User dismissed the A2HS prompt');\n      }\n      deferredPrompt = null;\n    });\n});\n});"]},"metadata":{},"sourceType":"module"}